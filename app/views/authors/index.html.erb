<h1 class="text-2xl font-bold mb-4">Authors</h1>
<div class="mb-4 flex space-x-3">
  <%= link_to 'New Author', new_author_path, class: 'px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600' %>
  <%= link_to 'Books', books_path, class: 'px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600' %>
</div>

<table class="w-full border border-gray-300 text-left">
  <thead class="bg-gray-800 text-white">
    <tr>
      <th class="px-4 py-2 border border-gray-300">Name</th>
      <th class="px-4 py-2 border border-gray-300">Books</th>
      <th class="px-4 py-2 border border-gray-300">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @authors.each do |author| %>
      <tr class="odd:bg-white even:bg-gray-100">
        <td class="px-4 py-2 border border-gray-300"><%= author.name %></td>
        <td class="px-4 py-2 border border-gray-300">
          <% if author.books.any? %>
            <ul class="list-disc pl-6">
              <% author.books.each do |book| %>
                <li><%= link_to book.title, book_path(book), class: 'text-blue-600 hover:underline' %></li>
              <% end %>
            </ul>
          <% else %>
            <span class="text-gray-500">No books available</span>
          <% end %>
        </td>
        <td class="px-4 py-2 border border-gray-300 space-x-2">
          <%= link_to 'Edit', edit_author_path(author), class: 'px-3 py-1 bg-yellow-400 text-black rounded hover:bg-yellow-500' %>
          <%= link_to 'Show', author_path(author), class: 'px-3 py-1 bg-blue-400 text-white rounded hover:bg-blue-500' %>
          <%= link_to 'Destroy', author_path(author), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: 'px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
